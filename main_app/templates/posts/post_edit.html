{% extends 'base.html' %}
{% load static %}
{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/post.css' %}">
{% endblock %}
{% block content %}
  <form method="POST" enctype="multipart/form-data" onsubmit="return copyContent()">
  {% csrf_token %}
  <div class="container">
      <div class="row">
          <div class="col-xs-12 col-lg-10">
              <!-- Title -->
              <h2>Title: {{form.title}}</h2> 
              {% comment %} <h3 class="mt-4">{{form.city}}</h3> {% endcomment %}
              <!-- Author -->
              <div class="lead">
                  by
                  <a href="profile">{{post.user.first_name}} {{post.user.last_name}}</a> in <strong>City:</strong> {{form.city}}
                  <br>
                  <div class="post-title-header">
                      <!-- Date/Time -->
                      Posted on {{post.created_at}}
                      </p>
                      <!-- Post Button -->
                      <div class="action-btns">
                          <a class="delete-button" href="{% url 'post' post.id %}">
                                <i class="fa fa-times" aria-hidden="true"></i>
                          </a>

                          <button type="submit" class="check-button">
                            <i class="fa fa-check" aria-hidden="true"></i>
                          </button>
                      </div>
                  </div>
                  <hr>
              </div>
              <!-- Preview Image -->
              <img class="img-fluid rounded" src="{{ form.instance.img.url }}" alt="">
              <br>
              <strong>Image:</strong>
              <br>
                {{form.img}}
              <hr>
              <!-- Post Content -->
              <strong>Body:</strong> <p><span class="textarea" contenteditable>{{form.instance.body}}</span></p>
              <input class="form-control" id="{{ form.body.html_name }}"  name="{{ form.body.html_name }}" type="hidden"/> 
          </div>
      </div>
  </div>
  </form>

  <script>
    function copyContent () {
        document.getElementById("{{form.body.html_name}}").value =  
            document.querySelector(".textarea").innerHTML;
        return true;
    }
  </script>

{% endblock %}